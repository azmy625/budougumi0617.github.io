<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Xamarin.Mac on My External Storage</title>
    <link>https://budougumi0617.github.io/categories/xamarin.mac/</link>
    <description>Recent content in Xamarin.Mac on My External Storage</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-JP</language>
    <lastBuildDate>Fri, 04 Aug 2017 08:59:08 +0900</lastBuildDate>
    <atom:link href="/categories/xamarin.mac/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Xmarin.Macアプリでネイティブメソッドの動的ロードを含むビルドを行う</title>
      <link>https://budougumi0617.github.io/post/2017/08/04/xamarin-link-flags/</link>
      <pubDate>Fri, 04 Aug 2017 08:59:08 +0900</pubDate>
      
      <guid>https://budougumi0617.github.io/post/2017/08/04/xamarin-link-flags/</guid>
      <description>ネイティブライブラリの動的ロードを含むXamarin.Macアプリを作ろうとしたら、ビルドエラーに遭遇しました。
TL;DR  MMP : error MM5109: Native linking failed with error code 1というビルドエラーを解決したい。 プロジェクトオプション-「Mac Build」タブ-「追加のmmp引数」に「--link_flags=&amp;quot;-Wl,-undefined,dynamic_lookup&amp;quot;」と設定する。 Xamarin.Macアプリのプロジェクトに、動的ロードで解決するメソッドが含まれていてもビルド出来るようになる。  MMP : error MM5109: Native linking failed with error code 1 Xamarin.Macプロジェクトをビルドするとき、C#のアプリをネイティブアプリに変換する処理が走ります。このとき、C#の中でネイティブライブラリを動的にロードしているようなプロジェクトは以下のようなエラーでビルドが止まることがあります。_C_FooFunction、_C_BarFunctionは動的にロードするライブラリの中で宣言されているメソッドです。
Target _CompileToNative: ... xcrun -sdk macosx clang -g -mmacosx-version-min=10.12 -arch x86_64 -fobjc-runtime=macosx -ObjC -u _C_FooFuncion -u _C_BarFunction .... Undefined symbols for architecture x86_64: &amp;quot;_C_FooFunction&amp;quot;, referenced from: -u command line option &amp;quot;_C_BarFunction&amp;quot;, referenced from: -u command line option ... ld: symbol(s) not found for architecture x86_64 clang : error : linker command failed with exit code 1 (use -v to see invocation) MMP : error MM5109: Native linking failed with error code 1.</description>
    </item>
    
    <item>
      <title>Xamarin.Macプロジェクトのオプションにある「追加のmmp引数」に指定できる値</title>
      <link>https://budougumi0617.github.io/post/2017/07/26/xamarin-mmp/</link>
      <pubDate>Wed, 26 Jul 2017 22:24:00 +0900</pubDate>
      
      <guid>https://budougumi0617.github.io/post/2017/07/26/xamarin-mmp/</guid>
      <description>TL;DR Visual Studio for MacでCocoa Appのプロジェクトをビルドするとき、「追加のmmp引数」を設定しておくと.appファイルを作成するときに詳細なオプションが渡せます。.csprojファイル内では&amp;lt;MonoBundlingExtraArgs&amp;gt;の属性です。指定できる引数は以下のコマンドで確認することが出来ます。
$ /Library/Frameworks/Xamarin.Mac.framework/Versions/Current/bin/mmp -? Copyright 2010 Novell Inc. Copyright 2011-2016 Xamarin Inc. Usage: mmp [options] application-exe -h, -?, --help Displays the help --version Output version information and exit. -f, --force Forces the recompilation of code, regardless of etc...  追加のmmp引数という謎のオプション Visual Studio for MacでCocoa Appプロジェクトを作成すると、プロジェクトのプロジェクトオプションに、「Mac Build」という項目があります。このオプション一覧には「追加のmmp引数」というテキストフィールドのオプションがあるのですが、バルーンヘルプを見ても「アプリケーションバンドルツールmmpに渡される追加のコマンドライン引数」としか出てきません。バリデーションもなく、基本なんでも入力できるので、正直何に使うのかよくわかっていませんでした。
Xamarinの公式ページなどでも少し触れられている程度です。
Xamarin.Mac Internals#Enabling the Partial Static Registrar
 The Partial Static Registrar is enabled in Xamarin.Mac by double-clicking the Project Name in the Solution Explorer, navigating to Mac Build and adding &amp;ndash;registrar:static to the Additional mmp arguments: field.</description>
    </item>
    
  </channel>
</rss>
